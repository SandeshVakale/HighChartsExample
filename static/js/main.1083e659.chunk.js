(this["webpackJsonpfrontend-dev-cs"]=this["webpackJsonpfrontend-dev-cs"]||[]).push([[0],{48:function(e,t,a){e.exports=a(58)},53:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=(a(53),a(38)),l=a.n(i),m=a(43),u=a(27),p=a(23),s=a(24),h=a(98),g=a(4),f=a(108),v=a(110),E=a(102),d=a(107),b=a(109),y=a(103),O=a(59),x=a(104),L=a(105),j=a(106),F=a(112),S=a(114),M=a(113),N=a(111),A=a(34),I=a.n(A),C=a(39),w=a.n(C),q=[],K=[],k=[],P=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},table:{minWidth:700}}})),W=Object(g.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(E.a),B=Object(g.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(y.a),G="http://api.geonames.org/countryInfoJSON?formatted=true&username=hydrane";function J(){var e=P(),t=Object(n.useState)(0),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(0),h=Object(s.a)(i,2),g=h[0],E=h[1],A=Object(n.useState)({continent:"",name:""}),C=Object(s.a)(A,2),J=C[0],z=C[1],D=Object(n.useState)({metric:"ALL",name:""}),T=Object(s.a)(D,2),R=T[0],$=T[1],H=Object(n.useState)({chartMax:5,name:""}),Q=Object(s.a)(H,2),U=Q[0],V=Q[1],X=Object(n.useState)(!0),Y=Object(s.a)(X,2),Z=Y[0],_=Y[1],ee=function(e){var t=e&&e.geonames.map((function(e){return e.continentName})),a=t.filter((function(e,a){return t.indexOf(e)===a}));E(a.sort())};function te(e,t,a,n){return{continentName:e,CountryName:t,Population:a,Area:n}}var ae=function(e){if("ALL"===e){var t=o&&o.geonames,a=0,n=0;t&&t.map((function(e){a+=parseInt(e.population)})),t&&t.map((function(e){n+=parseInt(e.areaInSqKm)}));var r=t&&t.map((function(e){return{name:e.countryName,y:parseFloat(e.population)/a*100}})),c=r,i=r&&r.slice(0,parseFloat(U.chartMax)),l=c&&c.slice(Math.max(c.length-parseFloat(U.chartMax),1)),m=0;l&&l.map((function(e){m+=e.y})),parseFloat(U.chartMax)<c.length&&i&&i.push({name:"Other",y:m}),console.log(i);var u=t&&t.map((function(e){return{name:e.countryName,y:parseFloat(e.areaInSqKm)/n*100}})),p=u,s=u&&u.slice(0,parseFloat(U.chartMax)),h=p&&p.slice(Math.max(p.length-parseFloat(U.chartMax),1)),g=0;h&&h.map((function(e){g+=e.y})),parseFloat(U.chartMax)<p.length&&s&&s.push({name:"Other",y:g}),q={title:{text:"Population"},chart:{type:"pie"},series:[{data:i}]},k=t&&t.map((function(e){return te(e.continentName,e.countryName,parseFloat(e.population)/a*100,parseFloat(e.areaInSqKm)/n*100)})),K={title:{text:"Area Square Meter"},chart:{type:"pie"},series:[{data:s}]}}else{var f=o.geonames.filter((function(t){return t.continentName===e})),v=0,E=0;f&&f.map((function(e){v+=parseInt(e.population)})),f&&f.map((function(e){E+=parseInt(e.areaInSqKm)}));var d=f&&f.map((function(e){return{name:e.countryName,y:parseFloat(e.population)/v*100}})),b=d,y=d&&d.slice(0,parseFloat(U.chartMax)),O=b&&b.slice(Math.max(b.length-parseFloat(U.chartMax),1)),x=0;O&&O.map((function(e){x+=e.y})),parseFloat(U.chartMax)<b.length&&y&&y.push({name:"Other",y:x});var L=f&&f.map((function(e){return{name:e.countryName,y:parseFloat(e.areaInSqKm)/E*100}})),j=L,F=L&&L.slice(0,parseFloat(U.chartMax)),S=j&&j.slice(Math.max(j.length-parseFloat(U.chartMax),1)),M=0;S&&S.map((function(e){M+=e.y})),parseFloat(U.chartMax)<j.length&&F&&F.push({name:"Other",y:M}),k=f&&f.map((function(e){return te(e.continentName,e.countryName,parseFloat(e.population)/v*100,parseFloat(e.areaInSqKm)/E*100)})),q={title:{text:"Population"},chart:{type:"pie"},series:[{data:y}]},K={title:{text:"Area Square Meter"},chart:{type:"pie"},series:[{data:F}]}}};function ne(){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(G);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a),ee(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){document.title="Frontend Dev CS",ne(),ae("ALL")}),[]),r.a.createElement("div",{className:e.root},console.log(U),r.a.createElement(x.a,{position:"static"},r.a.createElement(L.a,null,r.a.createElement(j.a,{variant:"h1",className:e.title},"Frontend Dev CS"),r.a.createElement(F.a,{color:"inherit",onClick:function(){ne(),_(!1)}},"Go"))),r.a.createElement(M.a,{className:e.formControl,disabled:Z},r.a.createElement(S.a,{htmlFor:"age-native-simple"},"Continent"),r.a.createElement(N.a,{native:!0,value:J.age,onChange:function(e){var t=e.target.name;z(Object(p.a)(Object(p.a)({},J),{},Object(u.a)({},t,e.target.value))),ae(e.target.value)},inputProps:{name:"continent",id:"continent-native-simple"}},r.a.createElement("option",{value:"ALL"},"ALL"),g&&g.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement(M.a,{className:e.formControl,disabled:Z},r.a.createElement(S.a,{htmlFor:"age-native-simple"},"Metric"),r.a.createElement(N.a,{native:!0,value:J.age,onChange:function(e){var t=e.target.name;$(Object(p.a)(Object(p.a)({},R),{},Object(u.a)({},t,e.target.value)))},inputProps:{name:"metric",id:"metric-native-simple"}},r.a.createElement("option",{value:"ALL"},"ALL"),r.a.createElement("option",{value:"areaInSqKm"},"areaInSqKm"),r.a.createElement("option",{value:"population"},"population"))),r.a.createElement(M.a,{className:e.formControl,disabled:Z},r.a.createElement(S.a,{htmlFor:"age-native-simple"},"chart max"),r.a.createElement(N.a,{native:!0,value:J.age,onChange:function(e){var t=e.target.name;V(Object(p.a)(Object(p.a)({},U),{},Object(u.a)({},t,e.target.value))),ae(J.continent)},inputProps:{name:"chartMax",id:"chart-max-native-simple"}},r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:15},"15"),r.a.createElement("option",{value:20},"20"))),("ALL"===R.metric||"population"===R.metric)&&r.a.createElement(w.a,{highcharts:I.a,options:q}),("ALL"===R.metric||"areaInSqKm"===R.metric)&&r.a.createElement(w.a,{highcharts:I.a,options:K}),r.a.createElement(d.a,{component:O.a},r.a.createElement(f.a,{className:e.table,"aria-label":"customized table"},r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement(W,null,"Continent"),r.a.createElement(W,{align:"right"},"Country"),("ALL"===R.metric||"population"===R.metric)&&r.a.createElement(W,{align:"right"},"Population"),("ALL"===R.metric||"areaInSqKm"===R.metric)&&r.a.createElement(W,{align:"right"},"Area"))),r.a.createElement(v.a,null,k&&k.map((function(e){return r.a.createElement(B,{key:e.name},r.a.createElement(W,{component:"th",scope:"row"},e.continentName),r.a.createElement(W,{align:"right"},e.CountryName),("ALL"===R.metric||"population"===R.metric)&&r.a.createElement(W,{align:"right"},e.Population),("ALL"===R.metric||"areaInSqKm"===R.metric)&&r.a.createElement(W,{align:"right"},e.Area))})),r.a.createElement(B,null,r.a.createElement(W,{component:"th",scope:"row"}),r.a.createElement(W,{align:"right"},"Total"),("ALL"===R.metric||"population"===R.metric)&&r.a.createElement(W,{align:"right"},"100"),("ALL"===R.metric||"areaInSqKm"===R.metric)&&r.a.createElement(W,{align:"right"},"100"))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.1083e659.chunk.js.map